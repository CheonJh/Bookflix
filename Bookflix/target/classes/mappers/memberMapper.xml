<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 직접 쿼리문을 입력 하는 곳 -->
<mapper namespace="com.green.mapper.memberMapper">

  <!-- 회원가입 -->
  <insert id="register">
    insert into MEMBER
    values(
    (select max(m.MEMBER_NUM)+1 from MEMBER m),
    1,
    #{member_email},
    #{member_pw},
    #{member_name},
    #{member_nickname},
    #{member_birth},
    #{member_phone}
    )
  </insert>

  <!-- 아이디 중복 체크 -->
  <select id="idCheck" resultType="int">
    select count(*) from MEMBER
    where MEMBER_EMAIL = #{member_email};
  </select>

  <!-- 닉네임 중복 체크 -->
  <select id="nickCheck" resultType="int">
    select count(*) from MEMBER
    where MEMBER_NICKNAME = #{member_nickname};
  </select>

  <!-- 로그인 -->
  <select id="login"
    resultType="com.green.member.domain.MemberDTO">
    select * from MEMBER
    where MEMBER_EMAIL=#{member_email}
    and MEMBER_PW=#{member_pw};
  </select>

  <!-- 회원탈퇴 -->
  
  
  
</mapper>